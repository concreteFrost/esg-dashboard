$(document).ready(function () {
  var url = location.pathname;
  const shorten = url.replace('/dashboard/', '../');
  //for dev mode
  highlightMain(url);
  //for deployed mode
  highlightMain(shorten);
});

function highlightMain(url) {
  $('a.active').removeClass('active');
  $('.collapse').removeClass('show');

  if (url.includes('company') || url.includes('metrics')) {

    highlightSub(url,'#company-nav','#company');
  }
  if (url.includes('frameworks')) {
    highlightSub(url,'#frameworks-nav','#frameworks');
  }
  if (url.includes('calendar')) {
    $('#calendar-nav').addClass('active');
  }
}

function highlightSub(url,id,parentID) {
  $(`ul a[href="${url}"]`).css({ backgroundColor: '#f2fdff'});
  $(document).find(id).addClass('active');
  $(document).find(parentID).addClass('show')
  $(document).find(parentID).attr('aria-expanded','true');

}
