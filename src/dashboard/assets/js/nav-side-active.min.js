$(document).ready(function () {
  var url = location.pathname;
  const shorten = url.replace('/dashboard/', '../');
  highlightMain(url);
  highlightMain(shorten);
});

function highlightMain(url) {
  $('a.active').removeClass('active');
  $('.collapse').removeClass('show');

  if (url.includes('company')) {
    $('#company-nav').addClass('active');
    highlightSub(url,'#company-nav');
  }
  if (url.includes('frameworks')) {
    $('#frameworks-nav').addClass('active');
    highlightSub(url,'#frameworks-nav');
  }
  if (url.includes('calendar')) {
    $('#calendar-nav').addClass('active');
  }
}

function highlightSub(url,id) {
  $(`ul a[href="${url}"]`).css({ backgroundColor: '#f2fdff'});
  $(`ul a[href="${url}"]`).closest('.collapse').addClass('show');
  $(id).attr('aria-expanded','true');
  $(`ul a[href="${url}"]`).closest('.collapse').addClass('active');
}
