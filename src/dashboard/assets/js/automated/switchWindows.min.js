export function switchWindows(buttons, windows) {
  var current = window.location.hash.substr(1);
  
  window.addEventListener('hashchange',()=>{
    for (let i = 0; i < windows.length; i++) {
      if (window.location.hash.substr(1)=== windows[i].substr(1)) {
        $(windows[i]).show(); 
        $(buttons[i]).addClass('button-nav-active');  
      } else {
        $(windows[i]).hide();
        $(buttons[i]).removeClass('button-nav-active');
      }}
  })

  $(document).ready(() => {
    if (current === '') {
      $(windows[0]).show();
      $(buttons[0]).toggleClass('button-nav-active');
      for (let i = 1; i < windows.length; i++) {
        $(windows[i]).hide();
      }
    } else {
      for (let i = 0; i < windows.length; i++) {
        if (current === windows[i].substr(1)) {
          $(windows[i]).show();
          $(buttons[i]).toggleClass('button-nav-active');
        } else {
          $(windows[i]).hide();
        }
      }
    }
  });

  for (let i = 0; i < buttons.length; i++) {
    $(buttons[i]).click(() => {
      $(buttons[i]).toggleClass('button-nav-active');
      const nonActiveButtons = buttons.filter((b) => b !== buttons[i]);
      nonActiveButtons.forEach((b) => $(b).removeClass('button-nav-active'));
      const filter = windows.filter((w) => w + '-btn' !== buttons[i]);
      window.location.hash = windows[i];
      $(windows[i]).show();
      filter.forEach((f) => $(f).hide());
    });
  }

  $(document).ready(() => {
    $('[data-toggle="tooltip"]').on('click', function () {
      $(this).tooltip('hide');
    });
  });
}
//show/hide tooltips
$(function () {
  $(document).on('shown.bs.tooltip', function (e) {
    setTimeout(function () {
      $(e.target).tooltip('hide');
    }, 4000);
  });
});
