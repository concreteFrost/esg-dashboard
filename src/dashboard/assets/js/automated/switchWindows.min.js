export function switchWindows(buttons, windows) {

  $(document).ready(()=>{
    for (let i = 0; i < windows.length; i++) {
      if(!location.hash || location.href.endsWith('#')){
  
        $(windows[0]).show();
        $(buttons[0]).addClass('button-nav-active');
      }
      else if (location.hash=== windows[i]) {
        $(windows[i]).show();
        $(buttons[i]).addClass('button-nav-active');
      } else {
        $(windows[i]).hide();
        $(buttons[i]).removeClass('button-nav-active');
      }
    }
  })
  window.addEventListener('hashchange', () => {
    for (let i = 0; i < windows.length; i++) {
      if(!location.hash){
        $(windows[0]).show();
        $(buttons[0]).addClass('button-nav-active');
      }
      else if (location.hash=== windows[i]) {
        $(windows[i]).show();
        $(buttons[i]).addClass('button-nav-active');
      } else {
        $(windows[i]).hide();
        $(buttons[i]).removeClass('button-nav-active');
      }
    }
  });

  for (let i = 0; i < buttons.length; i++) {
    $(buttons[i]).click(() => {
      preventScrolling();
      location.hash = windows[i]
    });
  }
}


function preventScrolling() {
  var x = window.pageXOffset,
    y = window.pageYOffset;
  $(window).one('scroll', function () {
    window.scrollTo(x, y);
  });
}
