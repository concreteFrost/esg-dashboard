var values = {
  v1: getRandom(),
  v2: getRandom(),
  v3: getRandom(),
};

const reduceValues = (val) => {
  return val.reduce((a, b) => a + b);
};
var lineChart = [
  reduceValues(values.v1),
  reduceValues(values.v2),
  reduceValues(values.v3),
];

function getRandom() {
  var arr = [];

  while (arr.length < 3) {
    let rnd = Math.floor(Math.random() * 100) + 10;

    arr.push(rnd);
  }

  return arr;
}

new Chart('chart-risk-comparison', {
  type: 'bar',

  data: {
    labels: ['1', '2', '3'],
    datasets: [
      {
        data: values.v1,
        backgroundColor: '#0bb802',
      },
      {
        data: values.v2,
        backgroundColor: '#e371e1',
      },
      {
        data: values.v3,
        backgroundColor: '#71dfe3',
      },
      {
        data: lineChart,
        type: 'line',
      },
    ],
  },
  options: {
    scales: {
      xAxes: [
        {
          barPercentage: 0.5,
          stacked: true,
          ticks: {
            beginAtZero: true,
          },
        },
      ],
      yAxes: [
        {
          stacked: true,
        },
      ],
    },
    plugins: {
      labels: {
        fontColor: '#567324',
        fontSize: 15,
        textMargin: -20,
        render: 'value',
      },
    },
  },
});
