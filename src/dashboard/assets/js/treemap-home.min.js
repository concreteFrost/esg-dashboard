$('#expand-treemap-btn').click(() => {
  $('#_treemap').toggleClass('col-12');
  $('#_treemap').toggleClass('col-xl-6');
});

$.getJSON('/dashboard/assets/data/treemap.json', (data) => {
  chart = anychart.treeMap(data, 'as-tree');
  // set the container id
  chart.container('domainDrillDown');
  // set the maximum depth of levels shown
  chart.maxDepth(2);
  // set the depth of hints
  chart.hintDepth(1);
  // set the opacity of hints
  chart.hintOpacity(0.5);
  var customColorScale = anychart.scales.linearColor();
  customColorScale.colors(['#B9EBEB', '#028FE0']);
  chart.headers().fontWeight('bold');

  chart.headers().background("#1ba2c1");
  chart.headers().fontColor("white")


  // set the color scale as the color scale of the chart
  chart.colorScale(customColorScale);

  chart.tooltip().format(function () {
    return (
      this.size +
      '% of 100 required policies and processes are currently in place'
    );
  });

  chart.labels().format(function() {
    return this.name + " " + this.size + "%"
  });

  // add a color range
  chart.colorRange().enabled(true);
  chart.colorRange().length('100%');

  chart.draw();
});
