$('#editMetricModal').on('shown.bs.modal', () => {
  $(document).ready(() => {
    $.ajax({
      url: 'https://europe.grc1.com/iGRC/Auth/token',
      method: 'POST',
      data: {
        username: 'rich.interface@esg1.com',
        password: 'Temp5678',
        grant_type: 'password',
      },

      success: function (data) {
        $.ajax({
          url:
            'https://europe.grc1.com/iGRC/api/Metric/GetById?metricId=' +
            localStorage.getItem('metric id'),
          method: 'GET',
          headers: {
            Authorization: 'BEARER ' + data.access_token,
          },
          success: function (d2) {
            console.log(d2);

            d2.IsActive === 'Y'
              ? $('#update-metric-is-active').prop('checked', true)
              : $('#update-metric-is-active').prop('checked', false);

            $('#update-metric-company').val(d2.Company)
            $('#update-metric-name').val(d2.Name)
            $('#update-metric-description').val(d2.Description);

            $('#update-metric-type').val(d2.Type)
            $('#update-metric-office').val(d2.Office)
            $('#update-metric-unit').val(d2.BusinessUnit)
            $('#update-metric-category').val(d2.Category)
            $('#update-metric-importance').val(d2.Importance)


          },
          error: function (e) {
            console.log('error');
          },
        });
      },
      error: function (e) {
        console.log(e);
      },
    });
  });
});
