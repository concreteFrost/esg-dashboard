$.ajax({
  setup,
  success: function (data) {
    getMetric(data);
  },
});

//Get All
function getMetric(data) {
  $.ajax({
    url: 'https://europe.grc1.com/iGRC/api/Regulator/Get',
    method: 'GET',
    data: {
      tenantName: 'ESG-ONE',
    },
    headers: {
      Authorization: 'Bearer ' + data.access_token,
    },

    success: function (data2) {
      const reg = data2;
      $('#regulators-datatable').parent().next().remove()
      reg.forEach((r) => {
        const el = `<tr>
            <td class="col-1 border-right">${r.RegulatorName}</td>
            <td class="col-2 p-2">${r.RegulatorDescription}</td>
            </tr>`;

        $('#regulators-table-body').append(el);
      });

      createTable('#regulators-datatable');
    },
  });
}




//Delete Metric By Id
function performDeletion(e) {
  $(e).closest('tr').remove();
}

//Create Table
function redirectToMetric(e) {
  localStorage.setItem('metric id', $(e).data('id'));
  console.log(localStorage.getItem('metric id'));
}
